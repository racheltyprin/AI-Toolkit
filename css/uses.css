:root {
    /* Palo Alto */
    --palo-alto: #175E54;
    --palo-alto-light: #2D716F;
    --palo-alto-dark: #014240;
  
    /* Palo Verde */
    --palo-verde: #279989;
    --palo-verde-light: #59B3A9;
    --palo-verde-dark: #017E7C;
  
    /* Olive */
    --olive: #8F993E;
    --olive-light: #A6B168;
    --olive-dark: #7A863B;
  
    /* Bay */
    --bay: #6FA287;
    --bay-light: #8AB8A7;
    --bay-dark: #417865;
  
    /* Sky */
    --sky: #4298B5;
    --sky-light: #67AFD2;
    --sky-dark: #016895;
  
    /* Lagunita */
    --lagunita: #007C92;
    --lagunita-light: #009AB4;
    --lagunita-dark: #006B81;
  
    /* Poppy */
    --poppy: #E98300;
    --poppy-light: #F9A44A;
    --poppy-dark: #D1660F;
  
    /* Spirited */
    --spirited: #E04F39;
    --spirited-light: #F4795B;
    --spirited-dark: #C74632;
  
    /* Illuminating */
    --illuminating: #FEDD5C;
    --illuminating-light: #FFE781;
    --illuminating-dark: #FEC51D;
  
    /* Plum */
    --plum: #620059;
    --plum-light: #734675;
    --plum-dark: #350D36;
  
    /* Brick */
    --brick: #651C32;
    --brick-light: #7F2D48;
    --brick-dark: #42081B;
  
    /* Archway */
    --archway: #5D4B3C;
    --archway-light: #766253;
    --archway-dark: #2F2424;
  
    /* Stone */
    --stone: #7F7776;
    --stone-light: #D4D1D1;
    --stone-dark: #544948;
  
    /* Fog */
    --fog: #DAD7CB;
    --fog-light: #F4F4F4;
    --fog-dark: #B6B1A9;
  
  
  }
/* --- ACTIVE CARD STATE --- */
.stage-header-card.is-active {
    border-color: var(--palo-alto-dark);
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    transform: translateY(-4px);
}

/* --- EXPANSION CONTENT PANEL --- */
.stage-expansion-content {
    max-height: 400px;
    opacity: 0;
    overflow: hidden;
    transition: max-height 0.55s cubic-bezier(0.16, 1, 0.3, 1),
                opacity 0.35s ease;
    background: var(--fog-light);
    border-top: 6px solid var(--poppy-light);
}

/* --- INNER PADDING WRAPPER --- */
.expansion-inner {
    padding: 40px;
}

/* --- DIVIDER --- */
.expansion-divider {
    display: none; /* border-top on the panel itself handles this now */
}

/* --- GRID --- */
.expansion-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 32px;
}

/* --- COLUMNS --- matches .sub-section language from style.css --- */
.expansion-column {
    border-left: 3px solid var(--stone-light);
    padding-left: 20px;
    transition: border-color 0.3s ease;
}

.stage-header-card.is-active .expansion-column {
    border-left-color: var(--lagunita);
}

.expansion-column h4 {
    font-weight: 900;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--lagunita);
    margin: 0 0 8px 0;
}

.expansion-column p,
.expansion-column li {
    font-size: 0.95rem;
    font-weight: 500;
    color: var(--stone-dark);
    line-height: 1.4;
}

.expansion-column ul {
    margin: 0;
    padding-left: 16px;
}

.expansion-column li {
    margin-bottom: 4px;
}

/* --- MOBILE --- */
@media (max-width: 900px) {
    .expansion-inner {
        padding: 24px 20px;
    }

    .expansion-grid {
        grid-template-columns: 1fr;
        gap: 24px;
    }

    .stage-header-card.is-active {
        transform: none;
        box-shadow: 0 10px 20px rgba(0,0,0,0.08);
    }
}

/* --- SHOW MORE / SHOW LESS BUTTON --- */
.show-more-btn {
    align-self: flex-end;
    margin-left: auto;
    margin-top: auto;
    flex-shrink: 0;

    background: var(--white);
    border: 2px solid var(--palo-alto-dark);
    color: var(--palo-alto-dark);
    font-weight: 900;
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    padding: 8px 16px;
    cursor: pointer;
    box-shadow: 3px 3px 0px 0px var(--palo-alto-dark);
    transition: all 0.2s ease;
}

.show-more-btn:hover {
    background: var(--spirited-light);
    transform: translate(-2px, -2px);
    box-shadow: 5px 5px 0px 0px var(--palo-alto-dark);
}

.show-more-btn:active {
    transform: translate(2px, 2px);
    box-shadow: 1px 1px 0px 0px var(--palo-alto-dark);
}

/* When open â€” button goes dark */
.show-more-btn.is-less {
    background: var(--fog-light);
    color: var(--palo-alto-dark);
    box-shadow: 3px 3px 0px 0px var(--palo-alto-dark);
}

.show-more-btn.is-less:hover {
    background: var(--spirited-light);
    box-shadow: 5px 5px 0px 0px var(--palo-alto-dark);
}